name: nicobako-github-io

services:
  web:
    container_name: nicobako-github-io-web
    build:
      context: .
      dockerfile: Dockerfile
      target: web-server
    ports:
      - "8080:8080"
    develop:
      watch:
        - action: sync
          path: .
          target: /app
  jinja:
    container_name: nicobako-github-io-jinja
    build:
      context: .
      dockerfile: Dockerfile
      target: jinja-builder
    stdin_open: true # -i
    tty: true # -t
    develop:
      watch:
        - action: sync
          path: ./src
          target: /app/src

#     volumes:
#       - type: bind
#         source: ./output
#         target: /app/output

# volumes:
#   jinja-output:

    
